# PLA: Landing Interactiva del Xat v7.1

## VISIÃ“

Quan l'usuari obre una nova conversa o el xat per primera vegada, en lloc de veure una pantalla en blanc, veu **missatges de demostraciÃ³ elegants** que:

1. Expliquen les funcionalitats principals
2. SÃ³n **clicables** com a shortcuts (fan l'acciÃ³ directament)
3. Tenen colors per categoria
4. Desapareixen quan l'usuari envia el primer missatge real

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚     â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                 â”‚
â”‚     â”‚  ğŸ‘‹ Hola! SÃ³c Docmile               â”‚                 â”‚
â”‚     â”‚  El teu assistent d'escriptura      â”‚                 â”‚
â”‚     â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                 â”‚
â”‚                                                             â”‚
â”‚     Prova alguna d'aquestes accions:                        â”‚
â”‚                                                             â”‚
â”‚     â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®       â”‚
â”‚     â”‚ âœï¸ Corregeix         â”‚ â”‚ ğŸŒ Tradueix al       â”‚       â”‚
â”‚     â”‚    l'ortografia      â”‚ â”‚    castellÃ           â”‚       â”‚
â”‚     â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯       â”‚
â”‚                                                             â”‚
â”‚     â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®       â”‚
â”‚     â”‚ ğŸ“ Resumeix el       â”‚ â”‚ ğŸ” Detecta           â”‚       â”‚
â”‚     â”‚    document          â”‚ â”‚    repeticions       â”‚       â”‚
â”‚     â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯       â”‚
â”‚                                                             â”‚
â”‚     â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®       â”‚
â”‚     â”‚ âœ¨ Millora l'estil   â”‚ â”‚ ğŸ“§ Escriu un email   â”‚       â”‚
â”‚     â”‚                      â”‚ â”‚    formal            â”‚       â”‚
â”‚     â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## CATEGORIES I COLORS

| Categoria | Color | Emoji | Exemples |
|-----------|-------|-------|----------|
| **EdiciÃ³** | Verd (#10B981) | âœï¸ | Corregeix, Millora, EscurÃ§a |
| **TraducciÃ³** | Blau (#3B82F6) | ğŸŒ | Tradueix al castellÃ /anglÃ¨s |
| **AnÃ lisi** | Lila (#8B5CF6) | ğŸ” | Resumeix, Detecta repeticions |
| **CreaciÃ³** | Taronja (#F59E0B) | âœ¨ | Escriu email, Genera llista |
| **ReferÃ¨ncia** | Rosa (#EC4899) | ğŸ“Œ | Quines parts clarificar? |

---

## ESTRUCTURA HTML

### Container Principal

```html
<div id="chatLanding" class="chat-landing">
  <!-- SalutaciÃ³ -->
  <div class="landing-greeting">
    <div class="landing-logo">
      <span class="landing-wave">ğŸ‘‹</span>
    </div>
    <h2 class="landing-title">Hola! SÃ³c Docmile</h2>
    <p class="landing-subtitle">El teu assistent d'escriptura intelÂ·ligent</p>
  </div>

  <!-- Suggeriments -->
  <div class="landing-suggestions">
    <p class="landing-hint">Prova alguna d'aquestes accions:</p>

    <div class="suggestion-grid">
      <!-- Fila 1 -->
      <button class="suggestion-card cat-edit" data-prompt="Corregeix l'ortografia">
        <span class="suggestion-icon">âœï¸</span>
        <span class="suggestion-text">Corregeix l'ortografia</span>
      </button>

      <button class="suggestion-card cat-translate" data-prompt="Tradueix al castellÃ ">
        <span class="suggestion-icon">ğŸŒ</span>
        <span class="suggestion-text">Tradueix al castellÃ </span>
      </button>

      <!-- Fila 2 -->
      <button class="suggestion-card cat-analyze" data-prompt="Resumeix el document">
        <span class="suggestion-icon">ğŸ“</span>
        <span class="suggestion-text">Resumeix el document</span>
      </button>

      <button class="suggestion-card cat-reference" data-prompt="Detecta repeticions de paraules">
        <span class="suggestion-icon">ğŸ”</span>
        <span class="suggestion-text">Detecta repeticions</span>
      </button>

      <!-- Fila 3 -->
      <button class="suggestion-card cat-edit" data-prompt="Millora l'estil del text">
        <span class="suggestion-icon">âœ¨</span>
        <span class="suggestion-text">Millora l'estil</span>
      </button>

      <button class="suggestion-card cat-create" data-prompt="Escriu un email formal basat en aquest contingut">
        <span class="suggestion-icon">ğŸ“§</span>
        <span class="suggestion-text">Escriu un email</span>
      </button>
    </div>
  </div>

  <!-- Hint inferior -->
  <p class="landing-footer">
    <span class="i i--xs i--muted">ğŸ’¡</span>
    O escriu la teva prÃ²pia instrucciÃ³ a baix
  </p>
</div>
```

---

## CSS (Styles.html)

```css
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CHAT LANDING v7.1
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

.chat-landing {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 24px 16px;
  min-height: 100%;
  animation: landingFadeIn 0.4s ease;
}

@keyframes landingFadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* SalutaciÃ³ */
.landing-greeting {
  text-align: center;
  margin-bottom: 24px;
}

.landing-logo {
  margin-bottom: 12px;
}

.landing-wave {
  font-size: 40px;
  display: inline-block;
  animation: wave 1.5s ease-in-out infinite;
  transform-origin: 70% 70%;
}

@keyframes wave {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(20deg); }
  75% { transform: rotate(-10deg); }
}

.landing-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 4px 0;
}

.landing-subtitle {
  font-size: 13px;
  color: var(--text-secondary);
  margin: 0;
}

/* Suggeriments */
.landing-suggestions {
  width: 100%;
  max-width: 320px;
}

.landing-hint {
  font-size: 12px;
  color: var(--text-muted);
  text-align: center;
  margin: 0 0 12px 0;
}

/* Grid de targetes */
.suggestion-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}

/* Targeta individual */
.suggestion-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  padding: 14px 10px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: center;
}

.suggestion-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.suggestion-card:active {
  transform: translateY(0);
}

.suggestion-icon {
  font-size: 20px;
}

.suggestion-text {
  font-size: 11px;
  font-weight: 500;
  color: var(--text-primary);
  line-height: 1.3;
}

/* Colors per categoria */
.suggestion-card.cat-edit {
  border-left: 3px solid #10B981;
}
.suggestion-card.cat-edit:hover {
  background: rgba(16, 185, 129, 0.08);
  border-color: #10B981;
}

.suggestion-card.cat-translate {
  border-left: 3px solid #3B82F6;
}
.suggestion-card.cat-translate:hover {
  background: rgba(59, 130, 246, 0.08);
  border-color: #3B82F6;
}

.suggestion-card.cat-analyze {
  border-left: 3px solid #8B5CF6;
}
.suggestion-card.cat-analyze:hover {
  background: rgba(139, 92, 246, 0.08);
  border-color: #8B5CF6;
}

.suggestion-card.cat-reference {
  border-left: 3px solid #EC4899;
}
.suggestion-card.cat-reference:hover {
  background: rgba(236, 72, 153, 0.08);
  border-color: #EC4899;
}

.suggestion-card.cat-create {
  border-left: 3px solid #F59E0B;
}
.suggestion-card.cat-create:hover {
  background: rgba(245, 158, 11, 0.08);
  border-color: #F59E0B;
}

/* Footer */
.landing-footer {
  margin-top: 20px;
  font-size: 11px;
  color: var(--text-muted);
  display: flex;
  align-items: center;
  gap: 4px;
}

/* Ocultar quan hi ha missatges */
.chat-landing.hidden {
  display: none;
}
```

---

## JAVASCRIPT (Sidebar.html)

### 1. Renderitzar Landing

```javascript
/**
 * Mostra la landing del xat si no hi ha missatges
 */
function showChatLanding() {
  const container = document.getElementById('chatHistory');
  const existingLanding = document.getElementById('chatLanding');

  // Si ja existeix, nomÃ©s mostrar-la
  if (existingLanding) {
    existingLanding.classList.remove('hidden');
    return;
  }

  const suggestions = [
    { icon: 'âœï¸', text: 'Corregeix l\'ortografia', prompt: 'Corregeix l\'ortografia', cat: 'edit' },
    { icon: 'ğŸŒ', text: 'Tradueix al castellÃ ', prompt: 'Tradueix al castellÃ ', cat: 'translate' },
    { icon: 'ğŸ“', text: 'Resumeix el document', prompt: 'Resumeix el document en 3 punts clau', cat: 'analyze' },
    { icon: 'ğŸ”', text: 'Detecta repeticions', prompt: 'Detecta repeticions de paraules', cat: 'reference' },
    { icon: 'âœ¨', text: 'Millora l\'estil', prompt: 'Millora l\'estil del text', cat: 'edit' },
    { icon: 'ğŸ“§', text: 'Escriu un email', prompt: 'Escriu un email formal basat en aquest contingut', cat: 'create' }
  ];

  let cardsHtml = suggestions.map(s => `
    <button class="suggestion-card cat-${s.cat}" onclick="useSuggestion('${s.prompt.replace(/'/g, "\\'")}')">
      <span class="suggestion-icon">${s.icon}</span>
      <span class="suggestion-text">${s.text}</span>
    </button>
  `).join('');

  const landingHtml = `
    <div id="chatLanding" class="chat-landing">
      <div class="landing-greeting">
        <div class="landing-logo">
          <span class="landing-wave">ğŸ‘‹</span>
        </div>
        <h2 class="landing-title">Hola! SÃ³c Docmile</h2>
        <p class="landing-subtitle">El teu assistent d'escriptura intelÂ·ligent</p>
      </div>

      <div class="landing-suggestions">
        <p class="landing-hint">Prova alguna d'aquestes accions:</p>
        <div class="suggestion-grid">
          ${cardsHtml}
        </div>
      </div>

      <p class="landing-footer">
        ğŸ’¡ O escriu la teva prÃ²pia instrucciÃ³ a baix
      </p>
    </div>
  `;

  container.innerHTML = landingHtml;
}

/**
 * Usa un suggeriment de la landing
 */
function useSuggestion(prompt) {
  // Amagar landing
  hideChatLanding();

  // Posar el text al input
  const input = document.getElementById('userInput');
  input.value = prompt;

  // Enviar automÃ ticament
  sendMessage();
}

/**
 * Amaga la landing del xat
 */
function hideChatLanding() {
  const landing = document.getElementById('chatLanding');
  if (landing) {
    landing.classList.add('hidden');
  }
}
```

### 2. IntegraciÃ³ amb el flux existent

**Modificar `switchConversation()`:**
```javascript
// Dins switchConversation(), quan es carreguen missatges:
if (!messages || messages.length === 0) {
  showChatLanding();
} else {
  hideChatLanding();
  // Renderitzar missatges...
}
```

**Modificar `startNewConversation()`:**
```javascript
function startNewConversation() {
  // ... codi existent ...

  // Mostrar landing per nova conversa
  showChatLanding();
}
```

**Modificar `sendMessage()`:**
```javascript
// Al principi de sendMessage():
hideChatLanding();  // Amagar landing quan s'envia missatge
```

---

## FITXERS A MODIFICAR

| Fitxer | Canvis |
|--------|--------|
| `Sidebar.html` | Funcions JS: showChatLanding, useSuggestion, hideChatLanding |
| `Sidebar.html` | Modificar: switchConversation, startNewConversation, sendMessage |
| `Styles.html` | CSS complet per la landing |

---

## COMPORTAMENT

1. **Nova conversa** â†’ Mostra landing
2. **Conversa existent buida** â†’ Mostra landing
3. **Conversa amb missatges** â†’ Mostra missatges (amaga landing)
4. **Clic a suggeriment** â†’ Amaga landing + envia missatge
5. **Escriure manualment** â†’ Quan s'envia, amaga landing

---

## CONSIDERACIONS UX

1. **AnimaciÃ³ suau**: La landing apareix amb fade-in
2. **MÃ  animada**: L'emoji ğŸ‘‹ fa una animaciÃ³ de salutaciÃ³
3. **Hover elegant**: Les targetes pujen lleugerament
4. **Colors semÃ ntics**: Cada categoria tÃ© el seu color
5. **Responsive**: Grid de 2 columnes s'adapta
6. **No intrusiu**: Desapareix automÃ ticament

---

## IMPLEMENTACIÃ“

**Temps estimat**: ~1h

**Ordre**:
1. Afegir CSS a Styles.html
2. Afegir funcions JS a Sidebar.html
3. Integrar amb funcions existents
4. Testejar
5. Desplegar

---

**Estat:** LLEST PER IMPLEMENTAR
